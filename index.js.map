{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/modal.js","../src/js/helpers.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com';\n\n//API ендпоінти:\n\nexport const API_ENDPOINTS = {\n  CATEGORIES: '/products/category-list', // - отримати список категорій продуктів\n  PRODUCTS: '/products', //  - отримати всі продукти з пагінацією (?limit=10&skip=10)\n  CATEGORY_LIST: '/products/category/', // - отримати продукти по категорії\n  PRODUCT_BY_ID: '/products/', // - отримати один продукт по ID\n  PRODUCT_BY_QUERY: '/products/search', //  - пошук продукту по ключовому слову (?q=nail)\n};\n\nexport const PER_PAGE = 12;\n\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n","import axios from 'axios';\nimport { API_ENDPOINTS, BASE_URL, PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getCategories() {\n  const { data } = await axios(`${API_ENDPOINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function getProducts(currentPage) {\n  const skip = (currentPage - 1) * PER_PAGE;\n  const { data } = await axios(`${API_ENDPOINTS.PRODUCTS}?limit=${PER_PAGE}&skip=${skip}`);\n  return data;\n}\n\nexport async function getProductList(category, currentPage) {\n  const skip = (currentPage - 1) * PER_PAGE;\n  const { data } = await axios(`${API_ENDPOINTS.CATEGORY_LIST}${category}?limit=${PER_PAGE}&skip=${skip}`);\n  return data;\n}\n\nexport async function getId(id) {\n  const {data} = await axios(`${API_ENDPOINTS.PRODUCT_BY_ID}${id}`)\n  return data;\n}\n","const refs = {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n};\n\nexport default refs;\n","import refs from './refs';\n\nexport function renderCategories(arrey) {\n  const categories = ['All', ...arrey];\n  const murkup = categories\n    .map(\n      category => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>\n`\n    )\n    .join('');\n  refs.categories.innerHTML = murkup;\n}\n\nexport function renderProducts(arr) {\n  const markup = arr.map(({ id,category, brand, price, title, thumbnail}) => `\n  <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n\n  `).join('');\n  refs.products.insertAdjacentHTML('beforeend', markup);\n\n}\n\nexport function clearProdutsList() {\n  refs.products.innerHTML = \"\";\n}\n\nexport function renderModal({ price, title, thumbnail, tags, description, shippingInformation, returnPolicy\n}) {\n  const markupTags = tags.map((tag) => `<li class=\"modal-product__tags\">${tag}</li>`).join(\"\");\n  const markup = `<img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${markupTags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`\nrefs.modalProduct.innerHTML = markup;\n}\n","import refs from \"./refs\";\n\nexport function openModal() {\n    refs.modal.classList.add(\"modal--is-open\");\n    document.body.style.overflow = \"hidden\";\n    window.addEventListener(\"keydown\", onEscapeKey);\n    refs.modal.addEventListener(\"click\", onBackDrop);\n}\n export function closeModal() {\n    refs.modal.classList.remove(\"modal--is-open\");\n    document.body.style.overflow = \"\";\n    window.removeEventListener(\"keydown\", onEscapeKey);\n    refs.modal.removeEventListener(\"click\", onBackDrop);\n}\nfunction onEscapeKey(event) {\n    if(event.code === \"Escape\") {\n        closeModal();\n    }\n}\n\nfunction onBackDrop(event) {\n    if (event.target === refs.modal) {\n        closeModal();\n    }\n}","import iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\niziToast.settings({\n  timeout: 5000,\n  balloon: true,\n  progressbar: false,\n});\n\nexport function showInfo(message) {\n  iziToast.info({\n    title: '!',\n    message: `${message}`,\n  });\n}\n\nexport function showAttention(message) {\n  iziToast.success({\n    title: 'Ok!',\n    message: `${message}`,\n  });\n}\nexport function showWarning(message) {\n  iziToast.warning({\n    title: 'Attention!',\n    message: `${message}`,\n  });\n}\n\nexport function showError(error) {\n  iziToast.error({\n    title: 'Ooops!',\n    message: `${error.message}`,\n  });\n}\n","import {\n  getCategories,\n  getId,\n  getProductList,\n  getProducts,\n} from './products-api';\nimport {\n  clearProdutsList,\n  renderCategories,\n  renderModal,\n  renderProducts,\n} from './render-function';\nimport { openModal } from './modal';\nimport { showError } from './helpers';\n\nlet currentPage = 1;\n\nexport async function initialHome() {\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n    const { products, total, limit, skip } = await getProducts(currentPage);\n    renderProducts(products);\n  } catch (error) {\n    showError(error);\n  }\n}\n\nexport async function handlerClickCategory(event) {\n  const btn = event.target.closest('.categories__btn');\n  if (!btn) {\n    return;\n  }\n  clearProdutsList();\n  const currentText = btn.textContent;\n  try {\n    if (currentText === 'All') {\n      const { products, total, limit, skip } = await getProducts(currentPage);\n      renderProducts(products);\n    } else {\n      const { products, total, limit, skip } = await getProductList(\n        currentText,\n        currentPage\n      );\n      renderProducts(products);\n    }\n  } catch (error) {\n    showError(error);\n  }\n}\n\nexport async function onProductClick(event) {\n  const card = event.target.closest('.products__item');\n  if (!card) return;\n  const productId = Number(card.dataset.id);\n  try {\n    const product = await getId(productId);\n    renderModal(product);\n    openModal();\n  } catch (error) {\n    showError(error);\n  }\n}\n","//Логіка сторінки Home\n\nimport {\n  handlerClickCategory,\n  initialHome,\n  onProductClick,\n} from './js/handlers';\nimport refs from './js/refs';\n\ndocument.addEventListener('DOMContentLoaded', initialHome);\nrefs.categories.addEventListener('click', handlerClickCategory);\nrefs.products.addEventListener('click', onProductClick);\n"],"names":["BASE_URL","API_ENDPOINTS","PER_PAGE","axios","getCategories","data","getProducts","currentPage","skip","getProductList","category","getId","id","refs","renderCategories","arrey","murkup","renderProducts","arr","markup","brand","price","title","thumbnail","clearProdutsList","renderModal","tags","description","shippingInformation","returnPolicy","markupTags","tag","openModal","onEscapeKey","onBackDrop","closeModal","event","iziToast","showError","error","initialHome","categories","products","total","limit","handlerClickCategory","btn","currentText","onProductClick","card","productId","product"],"mappings":"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"}